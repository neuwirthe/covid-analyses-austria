---
title: "Tirol"
output: html_document
date: '2022-04-18'
---

```{r}
suppressPackageStartupMessages({
library(tidyverse)
  
})
```



```{r}
tirol <-
  tibble::tribble(
          ~Datum,  ~Fälle,    ~Tests,
    "2021-03-01",  48060L,    579890,
    "2021-03-02",  48223L,    583765,
    "2021-03-03",  48394L,    588092,
    "2021-03-04",  48543L,    591254,
    "2021-03-05",  48670L,    594508,
    "2021-03-06",  48813L,    597226,
    "2021-03-07",  48894L,    599943,
    "2021-03-08",  49010L,    602260,
    "2021-03-09",  49147L,    605377,
    "2021-03-10",  49258L,    608527,
    "2021-03-11",  49476L,    612427,
    "2021-03-12",  49678L,    616766,
    "2021-03-13",  49867L,    620933,
    "2021-03-14",  50029L,    624658,
    "2021-03-15",  50178L,    629138,
    "2021-03-16",  50388L,    634117,
    "2021-03-17",  50629L,    640101,
    "2021-03-18",  50838L,    644858,
    "2021-03-19",  51074L,    649901,
    "2021-03-20",  51355L,    654513,
    "2021-03-21",  51549L,    658645,
    "2021-03-22",  51746L,    664006,
    "2021-03-23",  51959L,    670212,
    "2021-03-24",  52221L,    676228,
    "2021-03-25",  52468L,    681990,
    "2021-03-26",  52778L,    687087,
    "2021-03-27",  53118L,    691486,
    "2021-03-28",  53355L,    696416,
    "2021-03-29",  53552L,    700979,
    "2021-03-30",  53837L,    706629,
    "2021-03-31",  54122L,    712407,
    "2021-04-01",  54375L,    718645,
    "2021-04-02",  54622L,    724157,
    "2021-04-03",  54847L,    729771,
    "2021-04-04",  55041L,    736297,
    "2021-04-05",  55211L,    740979,
    "2021-04-06",  55382L,    747621,
    "2021-04-07",  55593L,    753905,
    "2021-04-08",  55790L,    759518,
    "2021-04-09",  56032L,    764801,
    "2021-04-10",  56210L,    769685,
    "2021-04-11",  56331L,    772907,
    "2021-04-12",  56519L,    777665,
    "2021-04-13",  56749L,    782826,
    "2021-04-14",  56993L,    788036,
    "2021-04-15",  57240L,    792534,
    "2021-04-16",  57477L,    796670,
    "2021-04-17",  57713L,    801051,
    "2021-04-18",  57893L,    804834,
    "2021-04-19",  58091L,    809010,
    "2021-04-20",  58386L,    813888,
    "2021-04-21",  58650L,    818608,
    "2021-04-22",  58882L,    822862,
    "2021-04-23",  59088L,    827453,
    "2021-04-24",  59258L,    832538,
    "2021-04-25",  59423L,    835790,
    "2021-04-26",  59549L,    839405,
    "2021-04-27",  59753L,    843909,
    "2021-04-28",  59981L,    848486,
    "2021-04-29",  60191L,    852764,
    "2021-04-30",  60391L,    856819,
    "2021-05-01",  60536L,    860969,
    "2021-05-02",  60692L,    863723,
    "2021-05-03",  60811L,    867595,
    "2021-05-04",  60985L,    871421,
    "2021-05-05",  61136L,    875919,
    "2021-05-06",  61156L,    878024,
    "2021-05-07",  61351L,    884909,
    "2021-05-08",  61474L,    888965,
    "2021-05-09",  61563L,    891351,
    "2021-05-10",  61648L,    893835,
    "2021-05-11",  61757L,    896419,
    "2021-05-12",  61891L,    900261,
    "2021-05-13",  61990L,    903563,
    "2021-05-14",  62071L,    905979,
    "2021-05-15",  62153L,    908432,
    "2021-05-16",  62211L,    910463,
    "2021-05-17",  62262L,    912487,
    "2021-05-18",  62382L,    915335,
    "2021-05-19",  62470L,    918350,
    "2021-05-20",  62559L,    922863,
    "2021-05-21",  62628L,    925845,
    "2021-05-22",  62707L,    928984,
    "2021-05-23",  62763L,    931207,
    "2021-05-24",  62800L,    933202,
    "2021-05-25",  62834L,    935504,
    "2021-05-26",  62894L,    938024,
    "2021-05-27",  62952L,    940911,
    "2021-05-28",  63009L,    943641,
    "2021-05-29",  63093L,    946385,
    "2021-05-30",  63121L,    948115,
    "2021-05-31",  63161L,    950244,
    "2021-06-01",  63228L,    952800,
    "2021-06-02",  63279L,    955227,
    "2021-06-03",  63338L,    957531,
    "2021-06-04",  63381L,    959640,
    "2021-06-05",  63425L,    961625,
    "2021-06-06",  63469L,    963283,
    "2021-06-07",  63517L,    965177,
    "2021-06-08",  63571L,    967196,
    "2021-06-09",  63599L,    968958,
    "2021-06-10",  63631L,    970419,
    "2021-06-11",  63661L,    971552,
    "2021-06-12",  63677L,    973256,
    "2021-06-13",  63710L,    973869,
    "2021-06-14",  63720L,    974562,
    "2021-06-15",  63733L,    975972,
    "2021-06-16",  63738L,    977135,
    "2021-06-17",  63750L,    978643,
    "2021-06-18",  63760L,    979629,
    "2021-06-19",  63766L,    981678,
    "2021-06-20",  63774L,    983031,
    "2021-06-21",  63778L,    984069,
    "2021-06-22",  63786L,    985873,
    "2021-06-23",  63790L,    986689,
    "2021-06-24",  63795L,    987556,
    "2021-06-25",  63800L,    988424,
    "2021-06-26",  63806L,    989483,
    "2021-06-27",  63808L,    989855,
    "2021-06-28",  63809L,    990375,
    "2021-06-29",  63814L,    991365,
    "2021-06-30",  63817L,    992145,
    "2021-07-01",  63818L,    992840,
    "2021-07-02",  63820L,    993638,
    "2021-07-03",  63821L,    994120,
    "2021-07-04",  63823L,    994389,
    "2021-07-05",  63831L,    994733,
    "2021-07-06",  63837L,    995267,
    "2021-07-07",  63840L,    995934,
    "2021-07-08",  63857L,    996493,
    "2021-07-09",  63897L,    997236,
    "2021-07-10",  63915L,    997909,
    "2021-07-11",  63928L,    998284,
    "2021-07-12",  63940L,    998904,
    "2021-07-13",  63970L,    999697,
    "2021-07-14",  63993L,   1000687,
    "2021-07-15",  64010L,   1001563,
    "2021-07-16",  64043L,   1002424,
    "2021-07-17",  64082L,   1003518,
    "2021-07-18",  64099L,   1004294,
    "2021-07-19",  64123L,   1005022,
    "2021-07-20",  64154L,   1005963,
    "2021-07-21",  64187L,   1007018,
    "2021-07-22",  64219L,   1008007,
    "2021-07-23",  64263L,   1009676,
    "2021-07-24",  64295L,   1011688,
    "2021-07-25",  64340L,   1013502,
    "2021-07-26",  64384L,   1014880,
    "2021-07-27",  64436L,   1016184,
    "2021-07-28",  64479L,   1017705,
    "2021-07-29",  64517L,   1019261,
    "2021-07-30",  64558L,   1021560,
    "2021-07-31",  64585L,   1024131,
    "2021-08-01",  64631L,   1025646,
    "2021-08-02",  64677L,   1026954,
    "2021-08-03",  64722L,   1028205,
    "2021-08-04",  64802L,   1030089,
    "2021-08-05",  64869L,   1031508,
    "2021-08-06",  64934L,   1033647,
    "2021-08-07",  65022L,   1036887,
    "2021-08-08",  65082L,   1038329,
    "2021-08-09",  65133L,   1039568,
    "2021-08-10",  65213L,   1041240,
    "2021-08-11",  65290L,   1042840,
    "2021-08-12",  65392L,   1044408,
    "2021-08-13",  65481L,   1046529,
    "2021-08-14",  65588L,   1049813,
    "2021-08-15",  65653L,   1051270,
    "2021-08-16",  65722L,   1052588,
    "2021-08-17",  65781L,   1054546,
    "2021-08-18",  65890L,   1056337,
    "2021-08-19",  65966L,   1058188,
    "2021-08-20",  66063L,   1060703,
    "2021-08-21",  66145L,   1063064,
    "2021-08-22",  66229L,   1064884,
    "2021-08-23",  66327L,   1066257,
    "2021-08-24",  66416L,   1068110,
    "2021-08-25",  66526L,   1069988,
    "2021-08-26",  66616L,   1071586,
    "2021-08-27",  66706L,   1073533,
    "2021-08-28",  66796L,   1076411,
    "2021-08-29",  66908L,   1078478,
    "2021-08-30",  66981L,   1079800,
    "2021-08-31",  67055L,   1081410,
    "2021-09-01",  67185L,   1083315,
    "2021-09-02",  67280L,   1085053,
    "2021-09-03",  67415L,   1087634,
    "2021-09-04",  67551L,   1091309,
    "2021-09-05",  67640L,   1092981,
    "2021-09-06",  67740L,   1094326,
    "2021-09-07",  67820L,   1096398,
    "2021-09-08",  67926L,   1098157,
    "2021-09-09",  68041L,   1099757,
    "2021-09-10",  68216L,   1103044,
    "2021-09-11",  68317L,   1106795,
    "2021-09-12",  68430L,   1109155,
    "2021-09-13",  68511L,   1111263,
    "2021-09-14",  68668L,   1114019,
    "2021-09-15",  68778L,   1116592,
    "2021-09-16",  68874L,   1119307,
    "2021-09-17",  68964L,   1123382,
    "2021-09-18",  69034L,   1128333,
    "2021-09-19",  69097L,   1130636,
    "2021-09-20",  69179L,   1133499,
    "2021-09-21",  69283L,   1136484,
    "2021-09-22",  69394L,   1139936,
    "2021-09-23",  69501L,   1142628,
    "2021-09-24",  69610L,   1146521,
    "2021-09-25",  69746L,   1152021,
    "2021-09-26",  69815L,   1155433,
    "2021-09-27",  69907L,   1157993,
    "2021-09-28",  70015L,   1161353,
    "2021-09-29",  70121L,   1166760,
    "2021-09-30",  70252L,   1169775,
    "2021-10-01",  70349L,   1171780,
    "2021-10-02",  70483L,   1175835,
    "2021-10-03",  70563L,   1178662,
    "2021-10-04",  70616L,   1180770,
    "2021-10-05",  70715L,   1183014,
    "2021-10-06",  70914L,   1186427,
    "2021-10-07",  70990L,   1188887,
    "2021-10-08",  71070L,   1192108,
    "2021-10-09",  71177L,   1195071,
    "2021-10-10",  71273L,   1198087,
    "2021-10-11",  71353L,   1200273,
    "2021-10-12",  71462L,   1202498,
    "2021-10-13",  71566L,   1205419,
    "2021-10-14",  71688L,   1207433,
    "2021-10-15",  71906L,   1211347,
    "2021-10-16",  72065L,   1215111,
    "2021-10-17",  72217L,   1217161,
    "2021-10-18",  72372L,   1220268,
    "2021-10-19",  72600L,   1225171,
    "2021-10-20",  72839L,   1226688,
    "2021-10-21",  73119L,   1230093,
    "2021-10-22",  73376L,   1234041,
    "2021-10-23",  73721L,   1238930,
    "2021-10-24",  73928L,   1242250,
    "2021-10-25",  74127L,   1245939,
    "2021-10-26",  74415L,   1250338,
    "2021-10-27",  74715L,   1253881,
    "2021-10-28",  75096L,   1258474,
    "2021-10-29",  75453L,   1262607,
    "2021-10-30",  75987L,   1268348,
    "2021-10-31",  76367L,   1272479,
    "2021-11-01",  76749L,   1276618,
    "2021-11-02",  77195L,   1282863,
    "2021-11-03",  77784L,   1288114,
    "2021-11-04",  78370L,   1293664,
    "2021-11-05",  78983L,   1299593,
    "2021-11-06",  79778L,   1305816,
    "2021-11-07",  80452L,   1310041,
    "2021-11-08",  80931L,   1318521,
    "2021-11-09",  81736L,   1329134,
    "2021-11-10",  82687L,   1337501,
    "2021-11-11",  83634L,   1344943,
    "2021-11-12",  84688L,   1353516,
    "2021-11-13",  85969L,   1364342,
    "2021-11-14",  86864L,   1374095,
    "2021-11-15",  87725L,   1383133,
    "2021-11-16",  89314L,   1398279,
    "2021-11-17",  90408L,   1409993,
    "2021-11-18",  91742L,   1421958,
    "2021-11-19",  93506L,   1435393,
    "2021-11-20",  95087L,   1446151,
    "2021-11-21",  96532L,   1457335,
    "2021-11-22",  97807L,   1471763,
    "2021-11-23",  99192L,   1486575,
    "2021-11-24", 100591L,   1496865,
    "2021-11-25", 102260L,   1509317,
    "2021-11-26", 103785L,   1522479,
    "2021-11-27", 104886L,   1531315,
    "2021-11-28", 105866L,   1539037,
    "2021-11-29", 106808L,   1554119,
    "2021-11-30", 107754L,   1565144,
    "2021-12-01", 108725L,   1574616,
    "2021-12-02", 109439L,   1580265,
    "2021-12-03", 110214L,   1590356,
    "2021-12-04", 111026L,   1599238,
    "2021-12-05", 111583L,   1605683,
    "2021-12-06", 112042L,   1616296,
    "2021-12-07", 112556L,   1623651,
    "2021-12-08", 113189L,   1630277,
    "2021-12-09", 113637L,   1638633,
    "2021-12-10", 114134L,   1644825,
    "2021-12-11", 114581L,   1650439,
    "2021-12-12", 114899L,   1655589,
    "2021-12-13", 115180L,   1663232,
    "2021-12-14", 115491L,   1671181,
    "2021-12-15", 115987L,   1681060,
    "2021-12-16", 116416L,   1689498,
    "2021-12-17", 116689L,   1695874,
    "2021-12-18", 117023L,   1701405,
    "2021-12-19", 117345L,   1707319,
    "2021-12-20", 117605L,   1715418,
    "2021-12-21", 117937L,   1724569,
    "2021-12-22", 118268L,   1744514,
    "2021-12-23", 118551L,   1756420,
    "2021-12-24", 118812L,   1772553,
    "2021-12-25", 119056L,   1781045,
    "2021-12-26", 119318L,   1792253,
    "2021-12-27", 119591L,   1802878,
    "2021-12-28", 119961L,   1818352,
    "2021-12-29", 120442L,   1830405,
    "2021-12-30", 120895L,   1844075,
    "2021-12-31", 121416L,   1864366,
    "2022-01-01", 121818L,   1873871,
    "2022-01-02", 122530L,   1887637,
    "2022-01-03", 123244L,   1898339,
    "2022-01-04", 124382L,   1918143,
    "2022-01-05", 125795L,   1934069,
    "2022-01-06", 126995L,   1954601,
    "2022-01-07", 128241L,   1968698,
    "2022-01-08", 129284L,   1992465,
    "2022-01-09", 131012L,   2022742,
    "2022-01-10", 132524L,   2035010,
    "2022-01-11", 134211L,   2059758,
    "2022-01-12", 135805L,   2080122,
    "2022-01-13", 137650L,   2101562,
    "2022-01-14", 140075L,   2122687,
    "2022-01-15", 141936L,   2144947,
    "2022-01-16", 144238L,   2171389,
    "2022-01-17", 146338L,   2189991,
    "2022-01-18", 148461L,   2214943,
    "2022-01-19", 152163L,   2241474,
    "2022-01-20", 155146L,   2269373,
    "2022-01-21", 158178L,   2295820,
    "2022-01-22", 161151L,   2320310,
    "2022-01-23", 163818L,   2343796,
    "2022-01-24", 165936L,   2363899,
    "2022-01-25", 169046L,   2393922,
    "2022-01-26", 172987L,   2422099,
    "2022-01-27", 177056L,   2452459,
    "2022-01-28", 180215L,   2478590,
    "2022-01-29", 183331L,   2504618,
    "2022-01-30", 184905L,   2524511,
    "2022-01-31", 187714L,   2543442,
    "2022-02-01", 191569L,   2576723,
    "2022-02-02", 193829L,   2597589,
    "2022-02-03", 198864L,   2616372,
    "2022-02-04", 202174L,   2658625,
    "2022-02-05", 205287L,   2684882,
    "2022-02-06", 207758L,   2709678,
    "2022-02-07", 209949L,   2726883,
    "2022-02-08", 213119L,   2757242,
    "2022-02-09", 215970L,   2781178,
    "2022-02-10", 218794L,   2805955,
    "2022-02-11", 221148L,   2828257,
    "2022-02-12", 223791L,   2851239,
    "2022-02-13", 225449L,   2871554,
    "2022-02-14", 227170L,   2885669,
    "2022-02-15", 229900L,   2911444,
    "2022-02-16", 232552L,   2931235,
    "2022-02-17", 234909L,   2951977,
    "2022-02-18", 237294L,   2970733,
    "2022-02-19", 239323L,   2990919,
    "2022-02-20", 241154L,   3009695,
    "2022-02-21", 242842L,   3022529,
    "2022-02-22", 246018L,   3046172,
    "2022-02-23", 248396L,   3063401,
    "2022-02-24", 249856L,   3077363,
    "2022-02-25", 252996L,   3098472,
    "2022-02-26", 255408L,   3116756,
    "2022-02-27", 257312L,   3133990,
    "2022-02-28", 258922L,   3145460,
    "2022-03-01", 261674L,   3167407,
    "2022-03-02", 264731L,   3184382,
    "2022-03-03", 267877L,   3203357,
    "2022-03-04", 270427L,   3219728,
    "2022-03-05", 273154L,   3236583,
    "2022-03-06", 275172L,   3251090,
    "2022-03-07", 276904L,   3260675,
    "2022-03-08", 280841L,   3282901,
    "2022-03-09", 284048L,   3299393,
    "2022-03-10", 287738L,   3317149,
    "2022-03-11", 290886L,   3332543,
    "2022-03-12", 294021L,   3349273,
    "2022-03-13", 296329L,   3364213,
    "2022-03-14", 298548L,   3375196,
    "2022-03-15", 302166L,   3395001,
    "2022-03-16", 305524L,   3411971,
    "2022-03-17", 308566L,   3428439,
    "2022-03-18", 311162L,   3443283,
    "2022-03-19", 313855L,   3457774,
    "2022-03-20", 315623L,   3470732,
    "2022-03-21", 317268L,   3480581,
    "2022-03-22", 320634L,   3498694,
    "2022-03-23", 323387L,   3512472,
    "2022-03-24", 325283L,   3524806,
    "2022-03-25", 326958L,   3536024,
    "2022-03-26", 328815L,   3547682,
    "2022-03-27", 330133L,   3558109,
    "2022-03-28", 331099L,   3564963,
    "2022-03-29", 332981L,   3577117,
    "2022-03-30", 334486L,   3586991,
    "2022-03-31", 335917L,   3595864,
    "2022-04-01", 337038L,   3604728,
    "2022-04-02", 337950L,   3611313,
    "2022-04-03", 338601L,   3617307,
    "2022-04-04", 339122L,   3621120,
    "2022-04-05", 339784L,   3630744,
    "2022-04-06", 340894L,   3640312,
    "2022-04-07", 341781L,   3648624,
    "2022-04-08", 342496L,   3654614,
    "2022-04-09", 343132L,   3659712,
    "2022-04-10", 343650L,   3664094,
    "2022-04-11", 344008L,   3666517,
    "2022-04-12", 344669L,   3672434,
    "2022-04-13", 345205L,   3676728,
    "2022-04-14", 345781L,   3681036,
    "2022-04-15", 346255L,   3684831,
    "2022-04-16", 346631L,   3688729,
    "2022-04-17", 346983L,   3692151,
    "2022-04-18", 347248L,   3693844
    )

```

```{r}
tirol |>
  mutate_at(vars(Tests,Fälle),\(x)(x-lag(x))) |>
  mutate(Datum=as.Date(Datum)) |>
  drop_na() ->
  tirol
```

```{r}
tirol |>tail()
```

```{r}
pal2 <- c(Fälle="red",Tests="black")
```

```{r}
tirol |>
  mutate(Fälle=10*Fälle) |>
  pivot_longer(cols=Tests:Fälle,
               names_to = "typ",
               values_to = "value") |>
  filter(Datum >= as.Date("2022-02-01")) |>
  ggplot(aes(x=Datum,y=value,color=typ)) +
  geom_line() +
  scale_y_continuous("Tests",
        label=\(x)prettyNum(x,big.mark = "."),
        sec.axis = sec_axis("Fälle",trans=~./10,
                            label=\(x)prettyNum(x,big.mark = "."))) +
  scale_color_manual("",values=pal2) +
  theme_minimal() +
  theme(axis.text.y.right=element_text(color="red"),
        axis.title.y.right=element_text(color="red"))
```




